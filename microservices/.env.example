# ==============================================
# VITRINE DIGITAL - MICROSERVICES CONFIGURATION
# ==============================================
# Template de configura√ß√£o para os microservi√ßos
# Copie este arquivo para .env e configure os valores

# ==============================================
# ENVIRONMENT SETTINGS
# ==============================================
NODE_ENV=development
LOG_LEVEL=info

# ==============================================
# DATABASE CONFIGURATIONS
# ==============================================

# PostgreSQL Master Password (usado por todos os bancos)
POSTGRES_PASSWORD=vitrine_digital_2024

# Auth Service Database
AUTH_DB_HOST=auth-db
AUTH_DB_PORT=5432
AUTH_DB_NAME=auth_db
AUTH_DB_USER=postgres
AUTH_DB_PASSWORD=${POSTGRES_PASSWORD}

# Product Service Database  
PRODUCT_DB_HOST=product-db
PRODUCT_DB_PORT=5432
PRODUCT_DB_NAME=product_db
PRODUCT_DB_USER=postgres
PRODUCT_DB_PASSWORD=${POSTGRES_PASSWORD}

# Bling Service Database
BLING_DB_HOST=bling-db
BLING_DB_PORT=5432
BLING_DB_NAME=bling_db
BLING_DB_USER=postgres
BLING_DB_PASSWORD=${POSTGRES_PASSWORD}

# Billing Service Database
BILLING_DB_HOST=billing-db
BILLING_DB_PORT=5432
BILLING_DB_NAME=billing_db
BILLING_DB_USER=postgres  
BILLING_DB_PASSWORD=${POSTGRES_PASSWORD}

# ==============================================
# REDIS CONFIGURATION
# ==============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=

# ==============================================
# JWT AUTHENTICATION
# ==============================================
# ‚ö†Ô∏è  ATEN√á√ÉO: Altere esta chave em produ√ß√£o!
JWT_SECRET=vitrine-digital-super-secret-key-change-this-in-production-2024
JWT_EXPIRES_IN=1h
REFRESH_TOKEN_EXPIRES_IN=30d

# ==============================================
# MICROSERVICES URLS
# ==============================================

# API Gateway
GATEWAY_URL=http://localhost:3000
GATEWAY_PORT=3000

# Auth Service
AUTH_SERVICE_URL=http://auth-service:3001
AUTH_SERVICE_PORT=3001

# Product Service  
PRODUCT_SERVICE_URL=http://product-service:3002
PRODUCT_SERVICE_PORT=3002

# Bling Service
BLING_SERVICE_URL=http://bling-service:3003
BLING_SERVICE_PORT=3003

# Billing Service
BILLING_SERVICE_URL=http://billing-service:3004
BILLING_SERVICE_PORT=3004

# ==============================================
# BLING ERP INTEGRATION
# ==============================================
# Configura√ß√µes para integra√ß√£o com Bling ERP
# Obtenha em: https://developer.bling.com.br/aplicativos

BLING_CLIENT_ID=your-bling-client-id-here
BLING_CLIENT_SECRET=your-bling-client-secret-here
BLING_REDIRECT_URI=http://localhost:3000/bling/callback
BLING_API_BASE_URL=https://www.bling.com.br/Api/v3
BLING_WEBHOOK_SECRET=your-bling-webhook-secret

# ==============================================
# CORS & SECURITY
# ==============================================
# URLs permitidas para CORS (separadas por v√≠rgula)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8080
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# ==============================================
# FRONTEND URLS
# ==============================================
FRONTEND_URL=http://localhost:3000
ADMIN_PANEL_URL=http://localhost:3001

# ==============================================
# PAYMENT GATEWAYS
# ==============================================

# PIX Configuration
PIX_CHAVE=your-pix-key-here
PIX_BENEFICIARIO=Vitrine Digital LTDA
PIX_CIDADE=S√£o Paulo

# Credit Card Gateway (exemplo: Stripe)
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret

# ==============================================
# EMAIL CONFIGURATION
# ==============================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

EMAIL_FROM="Vitrine Digital <noreply@vitrinedigital.com>"
EMAIL_REPLY_TO=contato@vitrinedigital.com

# ==============================================
# STORAGE & CDN
# ==============================================
# AWS S3 ou compatible
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=vitrine-digital-uploads

# CloudFlare (para CDN e DNS)
CLOUDFLARE_API_TOKEN=your-cloudflare-api-token
CLOUDFLARE_ZONE_ID=your-zone-id

# ==============================================
# MONITORING & LOGGING
# ==============================================

# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_ENABLED=true

# Grafana  
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Sentry (Error Tracking)
SENTRY_DSN=your-sentry-dsn-here
SENTRY_ENVIRONMENT=development

# ==============================================
# WEBHOOKS & NOTIFICATIONS
# ==============================================

# Slack Notifications
SLACK_WEBHOOK_URL=your-slack-webhook-url
SLACK_CHANNEL=#alerts

# Discord Notifications  
DISCORD_WEBHOOK_URL=your-discord-webhook-url

# Generic Webhook for deploys
DEPLOY_WEBHOOK_URL=your-deploy-notification-webhook

# ==============================================
# BACKUP & MAINTENANCE  
# ==============================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_S3_BUCKET=vitrine-digital-backups

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Sistema em manuten√ß√£o. Voltaremos em breve!"

# ==============================================
# DEVELOPMENT SETTINGS
# ==============================================
# Configura√ß√µes apenas para desenvolvimento

# Debug mode
DEBUG=true
VERBOSE_LOGGING=false

# Hot reload  
HOT_RELOAD=true
WATCH_FILES=true

# Seed database on startup
AUTO_SEED=false
AUTO_MIGRATE=true

# ==============================================
# PRODUCTION SETTINGS  
# ==============================================
# Configura√ß√µes para ambiente de produ√ß√£o

# SSL/TLS
SSL_ENABLED=false
SSL_CERT_PATH=/etc/ssl/certs/vitrine-digital.crt
SSL_KEY_PATH=/etc/ssl/private/vitrine-digital.key

# Docker Registry
DOCKER_REGISTRY=registry.vitrinedigital.com

# Health Check URLs
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=5000

# ==============================================
# FEATURE FLAGS
# ==============================================
# Ativar/desativar funcionalidades

FEATURE_BLING_INTEGRATION=true
FEATURE_MULTI_TENANT=true
FEATURE_CREDIT_SYSTEM=true
FEATURE_ANALYTICS=true
FEATURE_WHITE_LABEL=true

# ==============================================
# ANALYTICS & TRACKING
# ==============================================
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX-X
FACEBOOK_PIXEL_ID=your-facebook-pixel-id

# ==============================================
# IMPORTANT NOTES
# ==============================================
# 
# 1. üîí NUNCA commite este arquivo .env com dados reais!
# 2. üîë Altere JWT_SECRET em produ√ß√£o para uma chave forte
# 3. üóÑÔ∏è Configure backups autom√°ticos dos bancos PostgreSQL  
# 4. üåê Configure SSL/TLS adequadamente em produ√ß√£o
# 5. üìä Configure monitoramento e alertas
# 6. üîê Use secrets managers em produ√ß√£o (AWS Secrets, etc.)
# 
# Para mais informa√ß√µes, consulte: 
# - README.md
# - docs/configuration.md
# - docs/deployment.md
#
# ==============================================